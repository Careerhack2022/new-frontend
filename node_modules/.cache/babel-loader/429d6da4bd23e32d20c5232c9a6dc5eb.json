{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u7D00\\u7D20\\u537F\\\\Desktop\\\\dash\\\\src\\\\pages\\\\Analysis.js\",\n    _s = $RefreshSig$();\n\nimport { Row, Col, Card, Radio, Table, Upload, message, Progress, Button, Avatar, Typography } from \"antd\";\nimport { ToTopOutlined } from \"@ant-design/icons\";\nimport { Link } from \"react-router-dom\";\nimport ReactApexChart from \"react-apexcharts\"; // Images\n\nimport ava1 from \"../assets/images/logo-shopify.svg\";\nimport ava2 from \"../assets/images/logo-atlassian.svg\";\nimport ava3 from \"../assets/images/logo-slack.svg\";\nimport ava5 from \"../assets/images/logo-jira.svg\";\nimport ava6 from \"../assets/images/logo-invision.svg\";\nimport face from \"../assets/images/face-1.jpg\";\nimport face2 from \"../assets/images/face-2.jpg\";\nimport face3 from \"../assets/images/face-3.jpg\";\nimport face4 from \"../assets/images/face-4.jpg\";\nimport face5 from \"../assets/images/face-5.jpeg\";\nimport face6 from \"../assets/images/face-6.jpeg\";\nimport pencil from \"../assets/images/pencil.svg\";\nimport { useState } from \"react\";\nimport { useEffect } from 'react';\nimport { getDeviceDataAll, getDeviceDataOne } from '../components/api/device';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Title\n} = Typography;\nconst formProps = {\n  name: \"file\",\n  action: \"https://www.mocky.io/v2/5cc8019d300000980a055e76\",\n  headers: {\n    authorization: \"authorization-text\"\n  },\n\n  onChange(info) {\n    if (info.file.status !== \"uploading\") {\n      console.log(info.file, info.fileList);\n    }\n\n    if (info.file.status === \"done\") {\n      message.success(`${info.file.name} file uploaded successfully`);\n    } else if (info.file.status === \"error\") {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  }\n\n}; // table code start\n\nfunction Analysis() {\n  _s();\n\n  const [day, setDay] = useState(0);\n\n  const onChange = e => {\n    setDay(e.target.value);\n    console.log(`radio checked:${e.target.value}`);\n  };\n\n  const {\n    Title,\n    Paragraph\n  } = Typography;\n  const [demo_day, setDemoData] = useState(null);\n  const [priority_list, setPriority] = useState(null);\n  const [seconds, setSeconds] = useState(null);\n  useEffect(() => {\n    getDeviceDataAll(\"demo_day\").then(res => {\n      setDemoData(res.data); // console.log(\"data[0]\", res.data[0])\n\n      let temp = {\n        \"dryer\": res.data[0][\"dryer_priority\"],\n        \"heater\": res.data[0][\"heater_priority\"],\n        \"pot\": res.data[0][\"pot_priority\"],\n        \"purifier_black\": res.data[0][\"purifier_black_priority\"],\n        \"purifier_small\": res.data[0][\"purifier_small_priority\"],\n        \"purifier_white\": res.data[0][\"purifier_white_priority\"]\n      };\n      setPriority(temp);\n    });\n  }, []);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setSeconds(seconds => seconds + 1);\n    }, 5000);\n    return () => clearInterval(interval);\n  }, []);\n  var data = [];\n  data.push(['x', 'Electricity']);\n  var electricity = 0;\n\n  if (demo_day === null) {\n    data.push(['2022-01-24 00:00:00', '0']);\n  } else {\n    var i = 0;\n\n    for (i = 0; i <= 143; i++) {\n      electricity += demo_day[i]['pot'] + demo_day[i]['purifier_white'] + demo_day[i]['purifier_black'] + demo_day[i]['purifier_small'] + demo_day[i]['heater'] + demo_day[i]['dryer'];\n      data.push([demo_day[i]['timestamp'], electricity.toFixed(2)]);\n    }\n  }\n\n  var d = {\n    'timestamp': [],\n    'Electricity': []\n  };\n\n  for (i = 1; i < data.length; i++) {\n    d['timestamp'].push(data[i][0]);\n    d['Electricity'].push(data[i][1]);\n  }\n\n  const options = {\n    chart: {\n      width: \"100%\",\n      height: 350,\n      type: \"area\",\n      toolbar: {\n        show: false\n      }\n    },\n    legend: {\n      show: true\n    },\n    dataLabels: {\n      enabled: false\n    },\n    stroke: {\n      curve: \"smooth\"\n    },\n    yaxis: {\n      labels: {\n        style: {\n          fontSize: \"14px\",\n          fontWeight: 600,\n          colors: [\"#8c8c8c\"]\n        }\n      }\n    },\n    xaxis: {\n      labels: {\n        style: {\n          fontSize: \"14px\",\n          fontWeight: 600,\n          colors: [\"#8c8c8c\", \"#8c8c8c\", \"#8c8c8c\", \"#8c8c8c\", \"#8c8c8c\", \"#8c8c8c\", \"#8c8c8c\", \"#8c8c8c\", \"#8c8c8c\"]\n        }\n      },\n      // categories:['2022-01-24 00:00:00'],\n      categories: d['timestamp']\n    } // tooltip: {\n    //   y: {\n    //     formatter: function (val) {\n    //       return val;\n    //     },\n    //   },\n    // },\n\n  };\n  const series = [{\n    name: 'Electricity',\n    offsetY: 0,\n    data: d['Electricity']\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tabled\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        gutter: [24, 0],\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          xs: \"24\",\n          xl: 24,\n          sm: 24,\n          lg: 24,\n          md: 24,\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            bordered: false,\n            className: \"criclebox tablespace mb-24\",\n            title: \"Usage trend\",\n            extra: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(Radio.Group, {\n                onChange: onChange,\n                defaultValue: \"a\",\n                children: [/*#__PURE__*/_jsxDEV(Radio.Button, {\n                  value: \"a\",\n                  children: \"1 day\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Radio.Button, {\n                  value: \"b\",\n                  children: \"3 days\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Radio.Button, {\n                  value: \"b\",\n                  children: \"5 days\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 19\n              }, this)\n            }, void 0, false),\n            children: /*#__PURE__*/_jsxDEV(ReactApexChart, {\n              className: \"full-width\",\n              options: options,\n              series: series,\n              type: \"area\",\n              height: 350,\n              width: \"100%\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            bordered: false,\n            className: \"criclebox tablespace mb-24\",\n            title: \"Projects Table\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Analysis, \"WF8y6vW9YRll5Mvdvdqylr4Zguw=\");\n\n_c = Analysis;\nexport default Analysis;\n\nvar _c;\n\n$RefreshReg$(_c, \"Analysis\");","map":{"version":3,"sources":["C:/Users/紀素卿/Desktop/dash/src/pages/Analysis.js"],"names":["Row","Col","Card","Radio","Table","Upload","message","Progress","Button","Avatar","Typography","ToTopOutlined","Link","ReactApexChart","face","face2","face3","face4","face5","face6","useState","useEffect","getDeviceDataAll","getDeviceDataOne","Title","formProps","name","action","headers","authorization","onChange","info","file","status","console","log","fileList","success","error","Analysis","day","setDay","e","target","value","Paragraph","demo_day","setDemoData","priority_list","setPriority","seconds","setSeconds","then","res","data","temp","interval","setInterval","clearInterval","push","electricity","i","toFixed","d","length","options","chart","width","height","type","toolbar","show","legend","dataLabels","enabled","stroke","curve","yaxis","labels","style","fontSize","fontWeight","colors","xaxis","categories","series","offsetY"],"mappings":"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","sourcesContent":["\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Radio,\r\n  Table,\r\n  Upload,\r\n  message,\r\n  Progress,\r\n  Button,\r\n  Avatar,\r\n  Typography,\r\n} from \"antd\";\r\n\r\nimport { ToTopOutlined } from \"@ant-design/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ReactApexChart from \"react-apexcharts\";\r\n// Images\r\nimport ava1 from \"../assets/images/logo-shopify.svg\";\r\nimport ava2 from \"../assets/images/logo-atlassian.svg\";\r\nimport ava3 from \"../assets/images/logo-slack.svg\";\r\nimport ava5 from \"../assets/images/logo-jira.svg\";\r\nimport ava6 from \"../assets/images/logo-invision.svg\";\r\nimport face from \"../assets/images/face-1.jpg\";\r\nimport face2 from \"../assets/images/face-2.jpg\";\r\nimport face3 from \"../assets/images/face-3.jpg\";\r\nimport face4 from \"../assets/images/face-4.jpg\";\r\nimport face5 from \"../assets/images/face-5.jpeg\";\r\nimport face6 from \"../assets/images/face-6.jpeg\";\r\nimport pencil from \"../assets/images/pencil.svg\";\r\nimport {useState} from \"react\";\r\nimport {useEffect} from 'react';\r\nimport { getDeviceDataAll, getDeviceDataOne } from '../components/api/device';\r\nconst { Title } = Typography;\r\n\r\n\r\nconst formProps = {\r\n  name: \"file\",\r\n  action: \"https://www.mocky.io/v2/5cc8019d300000980a055e76\",\r\n  headers: {\r\n    authorization: \"authorization-text\",\r\n  },\r\n  onChange(info) {\r\n    if (info.file.status !== \"uploading\") {\r\n      console.log(info.file, info.fileList);\r\n    }\r\n    if (info.file.status === \"done\") {\r\n      message.success(`${info.file.name} file uploaded successfully`);\r\n    } else if (info.file.status === \"error\") {\r\n      message.error(`${info.file.name} file upload failed.`);\r\n    }\r\n  },\r\n};\r\n// table code start\r\n\r\n\r\n\r\nfunction Analysis() {\r\n  const [day,setDay] = useState(0);\r\n  const onChange = (e) => {\r\n    setDay(e.target.value);\r\n    console.log(`radio checked:${e.target.value}`);\r\n  }\r\n  const { Title, Paragraph } = Typography;\r\n  const [demo_day,setDemoData]=useState(null);\r\n  const [priority_list,setPriority] = useState(null);\r\n  const [seconds,setSeconds] =useState(null);\r\n  useEffect(() => {\r\n    getDeviceDataAll(\"demo_day\").then(res => {\r\n      setDemoData(res.data);\r\n      // console.log(\"data[0]\", res.data[0])\r\n      let temp = {\r\n        \"dryer\": res.data[0][\"dryer_priority\"],\r\n        \"heater\": res.data[0][\"heater_priority\"],\r\n        \"pot\": res.data[0][\"pot_priority\"],\r\n        \"purifier_black\": res.data[0][\"purifier_black_priority\"],\r\n        \"purifier_small\": res.data[0][\"purifier_small_priority\"],\r\n        \"purifier_white\": res.data[0][\"purifier_white_priority\"],\r\n      }\r\n      setPriority(temp);\r\n    });\r\n  }, []);\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n        \r\n      setSeconds(seconds => seconds + 1);\r\n    }, 5000);\r\n    \r\n    return () => clearInterval(interval);\r\n  }, []);\r\n  var data = [];\r\n  data.push([\r\n    'x', 'Electricity'\r\n    \r\n  ]);\r\n  var electricity = 0;\r\n  if(demo_day===null){\r\n    data.push(['2022-01-24 00:00:00','0']);\r\n  }\r\n  else{\r\n    \r\n    var i =0;\r\n\r\n    for( i =0;i<=143;i++){\r\n        electricity +=demo_day[i]['pot']+demo_day[i]['purifier_white']+demo_day[i]['purifier_black']+demo_day[i]['purifier_small']+demo_day[i]['heater']+demo_day[i]['dryer']\r\n        data.push([demo_day[i]['timestamp'],electricity.toFixed(2)]);\r\n        \r\n    }\r\n    \r\n  }\r\n  var d = {'timestamp':[],'Electricity':[]};\r\n  for(i = 1;i<data.length;i++){\r\n    d['timestamp'].push(data[i][0]);\r\n    d['Electricity'].push(data[i][1]);\r\n  }\r\n  const options= {\r\n    chart: {\r\n      width: \"100%\",\r\n      height: 350,\r\n      type: \"area\",\r\n      toolbar: {\r\n        show: false,\r\n      },\r\n    },\r\n\r\n    legend: {\r\n      show:true,\r\n    },\r\n\r\n    dataLabels: {\r\n      enabled: false,\r\n    },\r\n    stroke: {\r\n      curve: \"smooth\",\r\n    },\r\n\r\n    yaxis: {\r\n      labels: {\r\n        style: {\r\n          fontSize: \"14px\",\r\n          fontWeight: 600,\r\n          colors: [\"#8c8c8c\"],\r\n        },\r\n      },\r\n    },\r\n\r\n    xaxis: {\r\n      labels: {\r\n        style: {\r\n          fontSize: \"14px\",\r\n          fontWeight: 600,\r\n          colors: [\r\n            \"#8c8c8c\",\r\n            \"#8c8c8c\",\r\n            \"#8c8c8c\",\r\n            \"#8c8c8c\",\r\n            \"#8c8c8c\",\r\n            \"#8c8c8c\",\r\n            \"#8c8c8c\",\r\n            \"#8c8c8c\",\r\n            \"#8c8c8c\",\r\n          ],\r\n        },\r\n      },\r\n      // categories:['2022-01-24 00:00:00'],\r\n       categories: d['timestamp'],\r\n    },\r\n\r\n    // tooltip: {\r\n    //   y: {\r\n    //     formatter: function (val) {\r\n    //       return val;\r\n    //     },\r\n    //   },\r\n    // },\r\n  };\r\n  const series = [\r\n    {\r\n      name:'Electricity',\r\n      offsetY:0,\r\n      data:d['Electricity'],\r\n    },\r\n  ];\r\n  return (\r\n    <>\r\n      <div className=\"tabled\">\r\n        <Row gutter={[24, 0]}>\r\n          <Col xs=\"24\" xl={24} sm={24} lg={24} md={24}>\r\n            <Card\r\n              bordered={false}\r\n              className=\"criclebox tablespace mb-24\"\r\n              title=\"Usage trend\"\r\n              extra={\r\n                <>\r\n                  <Radio.Group onChange={onChange} defaultValue=\"a\">\r\n                    <Radio.Button value=\"a\">1 day</Radio.Button>\r\n                    <Radio.Button value=\"b\">3 days</Radio.Button>\r\n                    <Radio.Button value=\"b\">5 days</Radio.Button>\r\n                  </Radio.Group>\r\n                </>\r\n              }\r\n            >\r\n              \r\n\r\n              <ReactApexChart\r\n                className=\"full-width\"\r\n                options={options}\r\n                series={series}\r\n                type=\"area\"\r\n                height={350}\r\n                width={\"100%\"}\r\n              />\r\n              \r\n            </Card>\r\n            <Card bordered={false}\r\n              className=\"criclebox tablespace mb-24\"\r\n              title=\"Projects Table\">\r\n              \r\n            </Card>\r\n            {/* <Card\r\n              bordered={false}\r\n              className=\"criclebox tablespace mb-24\"\r\n              title=\"Projects Table\"\r\n              extra={\r\n                <>\r\n                  <Radio.Group onChange={onChange} defaultValue=\"all\">\r\n                    <Radio.Button value=\"all\">All</Radio.Button>\r\n                    <Radio.Button value=\"online\">ONLINE</Radio.Button>\r\n                    <Radio.Button value=\"store\">STORES</Radio.Button>\r\n                  </Radio.Group>\r\n                </>\r\n              }\r\n            >\r\n              <div className=\"table-responsive\">\r\n                <Table\r\n                  columns={project}\r\n                  dataSource={dataproject}\r\n                  pagination={false}\r\n                  className=\"ant-border-space\"\r\n                />\r\n              </div>\r\n              <div className=\"uploadfile pb-15 shadow-none\">\r\n                <Upload {...formProps}>\r\n                  <Button\r\n                    type=\"dashed\"\r\n                    className=\"ant-full-box\"\r\n                    icon={<ToTopOutlined />}\r\n                  >\r\n                    Click to Upload\r\n                  </Button>\r\n                </Upload>\r\n              </div>\r\n            </Card> */}\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Analysis;\r\n"]},"metadata":{},"sourceType":"module"}